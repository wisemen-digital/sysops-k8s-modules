---
- source:
    kind: ConfigMap
    name: configmap-common
    fieldPath: data.TYPESENSE_POD_LIMITS_CPU
  targets:
    - select:
        kind: StatefulSet
        labelSelector: app=typesense
      options:
        create: true
      fieldPaths:
        - spec.template.spec.containers.*.resources.limits.cpu
- source:
    kind: ConfigMap
    name: configmap-common
    fieldPath: data.TYPESENSE_POD_LIMITS_MEM
  targets:
    - select:
        kind: StatefulSet
        labelSelector: app=typesense
      options:
        create: true
      fieldPaths:
        - spec.template.spec.containers.*.resources.limits.memory
- source:
    kind: ConfigMap
    name: configmap-common
    fieldPath: data.TYPESENSE_POD_REQUESTS_CPU
  targets:
    - select:
        kind: StatefulSet
        labelSelector: app=typesense
      options:
        create: true
      fieldPaths:
        - spec.template.spec.containers.*.resources.requests.cpu
- source:
    kind: ConfigMap
    name: configmap-common
    fieldPath: data.TYPESENSE_POD_REQUESTS_MEM
  targets:
    - select:
        kind: StatefulSet
        labelSelector: app=typesense
      options:
        create: true
      fieldPaths:
        - spec.template.spec.containers.*.resources.requests.memory
